<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="style.css">
    <title>Document</title>
</head>
<body>

    <header>
        <div class="sss">
          <p style="font-family: 'Brush script MT', cursive; font-size: 300%; color: #66c666;">&nbsp;&nbsp;Enviro</p>
          <p1 style="font-family: 'Brush script MT', cursive; font-size: 300%; color: #fff;">&nbsp;&nbsp;Vista</p1>
        </div>
        <nav>
          <ul>
            <li><a href="index.html">Home</a></li>
            <li><a href="dasboard.html">Dashboard</a></li>
            <li><a href="#">Profile</a></li>
            <li><a href="sustainability.html">Sustainability Tips</a></li>
            <li><a href="community.html">Community</a></li>
            <li><a href="contact.html">Contact Us</a></li>
          </ul>
        </nav>
      </header>
    
    <div class="form">
        <div class="tab-container">
         <div class="tab" id="login-tab" onclick="showForm('login-form')">Login</div>
         <div class="tab" id="register-tab" onclick="showForm('registration-form')">Register</div>
        </div>
    <div class="forms-container">
        <!-- Login form -->
        <div class="login-form" id="login-form">
            <h2>Login</h2>
            <form action="/frontend/green/src/profile.html">
                <label for="loginUsername">Username:</label><br>
                <input type="text" id="loginUsername" name="loginUsername" required>
     
                <label for="loginPassword">Password:</label>
                <input type="password" id="loginPassword" name="loginPassword" required>
     
                <button type="submit">Login</button>
            </form>
        </div>
     
        <!-- Registration form -->
        <div class="registration-form" id="registration-form">
            <h2>Register</h2>
            <form action="/api/register">
                <label for="regUsername">Username:</label>
                <input type="text" id="regUsername" name="regUsername" required>
     
                <label for="regEmail">Email:</label>
                <input type="email" id="regEmail" name="regEmail" required>
     
                <label for="regPassword">Password:</label>
                <input type="password" id="regPassword" name="regPassword" required>
     
                <label for="confirmRegPassword">Confirm Password:</label>
                <input type="password" id="confirmRegPassword" name="confirmRegPassword" required>
     
                <button type="submit">Register</button>
            </form>
        </div>
     </div>
     </div>
     <script>
        function scrollToLoginForm() {
          document.getElementById('login-form').scrollIntoView({ behavior: 'smooth' });
        }
    
        function showForm(formId) {
      // Hide all forms
      document.getElementById('login-form').style.display = 'none';
      document.getElementById('registration-form').style.display = 'none';
    
      // Show the selected form
      document.getElementById(formId).style.display = 'block';
    
      // Update the active tab styling
      document.getElementById('login-tab').style.backgroundColor = '#228B22';
      document.getElementById('register-tab').style.backgroundColor = '#228B22';
    
      if (formId === 'login-form') {
          document.getElementById('login-tab').style.backgroundColor = '#1C7F1C';
      } else if (formId === 'registration-form') {
          document.getElementById('register-tab').style.backgroundColor = '#1C7F1C';
      }
    }
    
    // Show the login form by default
    showForm('login-form');


    async function register() {
            const regUsername = document.getElementById('regUsername').value;
            const regEmail = document.getElementById('regEmail').value;
            const regPassword = document.getElementById('regPassword').value;
            const confirmRegPassword = document.getElementById('confirmRegPassword').value;

            const response = await fetch('/register', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    username: regUsername,
                    email: regEmail,
                    password: regPassword,
                    confirmPassword: confirmRegPassword,
                }),
            });

            const result = await response.json();
            alert(result.message);
        }

        async function login() {
            const loginUsername = document.getElementById('loginUsername').value;
            const loginPassword = document.getElementById('loginPassword').value;

            const response = await fetch('/login', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({
                    username: loginUsername,
                    password: loginPassword,
                }),
            });

            const result = await response.json();
            alert(result.message);
        }

      </script>
</body>
</html>